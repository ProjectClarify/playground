
<link rel="import" href="bower_components/paper-button/paper-button.html">
<link rel="import" href="bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="bower_components/polymerfire/polymerfire.html">

<link rel="import" href="playground-splash.html">
<link rel="import" href="playground-pingpong.html">

<dom-module id="playground-app">

  <template>

    <style>

    :host {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      font-size: 1rem;
      transition: opacity ease-in 0.2s;
      line-height: 1.42857143;
    }

    .toolbar {

      @apply(--layout-horizontal);
      @apply(--layout-justified);
      background-color: transparent;
      color: black;
      padding: 6px 8px;
      padding: 1.8rem;
      z-index:999;

    }

    @media (max-width: 640px) {
      .toolbar{
          padding: 0.5rem;
      }
      h1.brand {
        font-size: 1rem;
      }
      paper-button.signin {
        font-size: 0.8rem;
        padding: 5px 16px;
        line-height: 1.7rem;
      }
      paper-button.signout {
        font-size: 0.8rem;
        padding: 5px 16px;
        line-height: 1.7rem;
      }
    }

    .brand {
      font-size: 1.25rem;
      line-height: 1.428rem;
      color: #333;
      font-weight:500;
    }

    .signin {
      background-color: transparent; /* Green */
      border: none;
      color: #darkgrey;
      padding: 10px 32px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      border: 2px solid grey;
      text-transform: none;
    }

    .signout {
      background-color: transparent; /* Green */
      border: none;
      color: #darkgrey;
      padding: 10px 32px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      border: 2px solid grey;
      text-transform:none;
    }

    .the404 {
      width: 100%;
      height: 100%;
      text-align: center;
    }

    .footer {
      position: absolute;
      bottom: 0px;
      width: 100%;
      padding: 10px;
    }

    .footer a {
      text-decoration: none;
      color: grey;
      padding: 5px;
      font-size: 14px;
    }

    .footer-content {
      text-align: center;
    }

    a {
      text-decoration: none;
      color: #333;
    }

    </style>

    <div class="toolbar">
      <a on-tap="navigateSplash">
        <h1 class="brand">Project Clarify</h1>
      </a>

      <a></a>
      <a></a>

      <paper-button on-tap="signOut" hidden="[[!signedIn]]" class="signout">Sign Out</paper-button>
      <paper-button on-tap="signIn" hidden="[[signedIn]]" class="signin">
        <span>Sign In</span>
      </paper-button>
    </div>

    <firebase-app
      name="playground"
      auth-domain="cortical-thickening.firebaseapp.com"
      database-url="https://cortical-thickening.firebaseio.com"
      api-key="AIzaSyCQSSQbkXBbqYCy5mSZye9Xlu_Fs4p4imw"
      project-id="cortical-thickening">
    </firebase-app>

    <firebase-auth
      id="auth"
      app-name="playground"
      provider="google"
      signed-in="{{signedIn}}"
      user="{{user}}">
    </firebase-auth>

    <playground-splash
      id="splash"
      name="splash"
      on-navigate-pingpong="navigatePingpong">
    </playground-splash>

    <playground-pingpong
      id="pingpong"
      signed-in="[[signedIn]]"
      name="pingpong"
      uid="[[user.uid]]"
      hidden>
    </playground-pingpong>

    <div class="footer">
      <div class="footer-content">
        <a href="https://termsfeed.com/terms-conditions/754e6462ef8a3e127909000f26a01250" target="_blank">terms</a>
        <a href="https://termsfeed.com/terms-conditions/754e6462ef8a3e127909000f26a01250" target="_blank">privacy</a>
      </div>
    </div>

  </template>

  <script>

    Polymer({

      is: 'playground-app',

      properties: {
        page: {
          type: String,
          reflectToAttribute: true,
          value: "splash"
        },
        signedIn: {
          type: Boolean,
          notify: true,
          value: false
        },
        menuOpen: {
          type: Boolean,
          notify: true,
          value: false
        },

      },

      signIn: function() {
        this.$.auth.signInWithPopup();
      },

      signOut: function() {
        this.$.auth.signOut();
      },

      // Hack, see imports
      navigatePingpong: function() {
        this.$.splash.hidden = true;
        this.$.pingpong.hidden = false;
      },

      // Hack, see imports
      navigateSplash: function() {
        this.$.splash.hidden = false;
        this.$.pingpong.hidden = true;
      },

    });

  </script>

</dom-module>
